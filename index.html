<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Let's Chat Buddy!!!</title>

<link href="default.css" rel="stylesheet" type="text/css" />
 <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous"/>
  <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.0-beta.1/themes/smoothness/jquery-ui.css" type="text/css">
</head>

<body>
<div class="container">
    <div class="row">
        <div class="col-md-5">
            <div class="panel panel-primary">
                <div class="panel-heading">
                    <span class="glyphicon glyphicon-comment"></span> Chat                  
                   
                </div>
                
                
                <div class="panel-body">
                    <ul class="chat">
                       
                        </ul>
                        </div>
                <div class="panel-footer" >
                    <div class="input-group">
                        <input id="m" type="text" class="form-control input-sm"  placeholder="Type your message here..." />
                        <span class="input-group-btn">
                        <ul id="messages"></ul>
                        <form action="">
                            <button class="btn btn-warning btn-sm send" autocomplete="off" style="margin-top: -10px;margin-left: 10px;" >
                                Send</button>
                                 </form>
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
 <script src="https://cdn.socket.io/socket.io-1.2.0.js"></script>
    <script src="http://code.jquery.com/jquery-1.11.1.js"></script>
    <script type="text/javascript">
	
	
	
      var socket = io();
	  
      $('form').submit(function(){
		  
        socket.emit('chat message', $('#m').val());
		
		$('#m').val('');
        return false;
      });
      // If the server sends "chat message" event.
      socket.on('chat message', function(msg){
	   
	   $(".chat").append('<li class="left clearfix primary-font" style="list-style:none"><span class="chat-img pull-left"><img src="http://icons.iconarchive.com/icons/oxygen-icons.org/oxygen/48/Actions-im-user-icon.png" alt="User Avatar" class="img-circle" /></span><div class="chat-body clearfix" style="margin-top: 12px;margin-left: 15%;"><p>'+ msg +'</p></div></li>');
	   
      });
    </script>
</body>
</html>
